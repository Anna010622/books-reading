import{u as b,j as e,r as j,a as B,b as z,e as x,L as R}from"./index-19e9215d.js";import{O as C,i as A}from"./OutlineButton-42dff846.js";import{c as F,a as k,b as w,u as I,o as D}from"./index.esm-d669ea4e.js";import{B as O}from"./ButtonMain-f4b433ed.js";const Y="_form_fgr6n_1",V="_field_fgr6n_39",G="_label_fgr6n_44",W="_input_fgr6n_51",H="_errorMessage_fgr6n_67",o={form:Y,field:V,label:G,input:W,errorMessage:H},J=F({bookTitle:k().required(),author:k().required(),year:w().typeError("Введіть рік видання").required().min(new Date("1917").getFullYear()).max(new Date().getFullYear()),pages:w().typeError("Введіть кількість сторінок").required()}).required(),K=()=>{var i,d,m,u;const{register:s,handleSubmit:a,formState:{errors:n}}=I({resolver:D(J)}),{t}=b("translation",{keyPrefix:"libraryPage.form"}),r=p=>console.log(p);return e.jsxs("form",{className:o.form,onSubmit:a(r),children:[e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:t("book title")}),e.jsx("input",{className:o.input,type:"text",...s("bookTitle"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(i=n.bookTitle)==null?void 0:i.message})]}),e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:t("author")}),e.jsx("input",{className:o.input,type:"text",...s("author"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(d=n.author)==null?void 0:d.message})]}),e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:t("publication date")}),e.jsx("input",{className:o.input,type:"number",...s("year"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(m=n.year)==null?void 0:m.message})]}),e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:t("amount of pages")}),e.jsx("input",{className:o.input,type:"number",...s("pages"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(u=n.pages)==null?void 0:u.message})]}),e.jsx(C,{children:t("add")})]})},Q="_pageContainer_eksqq_1",U="_backLink_eksqq_6",X="_books_eksqq_11",f={pageContainer:Q,backLink:U,books:X},Z="_overlay_1lmlf_1",$={overlay:Z},ee=document.getElementById("modal-root"),q=({children:s,close:a,className:n})=>{const t=i=>{i.code==="Escape"&&a()},r=i=>{i.target===i.currentTarget&&a()};return j.useEffect(()=>(document.body.addEventListener("keydown",t),document.body.classList.add("noScroll"),()=>{document.body.removeEventListener("keydown",t),document.body.classList.remove("noScroll")})),B.createPortal(e.jsx("div",{className:n?`${$.overlay} withoutBg`:$.overlay,onClick:r,children:s}),ee)},se="/books-reading/assets/flag-b474c0f2.svg",M="/books-reading/assets/arrow-down-ac91687a.svg",te="_modal_okyc4_1",ae="_list_okyc4_21",ne="_item_okyc4_26",re="_title_okyc4_35",le="_wrapper_okyc4_47",ie="_subTitle_okyc4_52",oe="_inner_okyc4_67",ce="_text_okyc4_73",l={modal:te,list:ae,item:ne,title:re,wrapper:le,subTitle:ie,inner:oe,text:ce},de=({close:s})=>{const{t:a}=b("translation",{keyPrefix:"libraryPage.infoModal"});return e.jsxs("div",{className:l.modal,children:[e.jsxs("ul",{className:l.list,children:[e.jsxs("li",{className:l.item,children:[e.jsx("h2",{className:l.title,children:a("step1")}),e.jsxs("div",{className:l.wrapper,children:[e.jsx("img",{className:l.icon,src:z,alt:"Library icon",width:"22",height:"17"}),e.jsxs("div",{className:l.content,children:[e.jsx("h3",{className:l.subTitle,children:a("title1")}),e.jsxs("div",{className:l.inner,children:[e.jsx("img",{className:l.arrow,src:M,alt:"down arrow",width:"10",height:"12"}),e.jsx("p",{className:l.text,children:a("description1")})]})]})]})]}),e.jsxs("li",{className:l.item,children:[e.jsx("h2",{className:l.title,children:a("step1")}),e.jsxs("div",{className:l.wrapper,children:[e.jsx("img",{className:l.icon,src:se,alt:"Flag icon",width:"15",height:"17"}),e.jsxs("div",{className:l.content,children:[e.jsx("h3",{className:l.subTitle,children:a("title2")}),e.jsxs("div",{className:l.inner,children:[e.jsx("img",{className:l.arrow,src:M,alt:"down arrow",width:"10",height:"12"}),e.jsx("p",{className:l.text,children:a("description2")})]})]})]})]})]}),e.jsx(O,{onClick:()=>s(),children:"Ok"})]})};var P={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T=x.createContext&&x.createContext(P),g=globalThis&&globalThis.__assign||function(){return g=Object.assign||function(s){for(var a,n=1,t=arguments.length;n<t;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},g.apply(this,arguments)},me=globalThis&&globalThis.__rest||function(s,a){var n={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&a.indexOf(t)<0&&(n[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(s);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(s,t[r])&&(n[t[r]]=s[t[r]]);return n};function S(s){return s&&s.map(function(a,n){return x.createElement(a.tag,g({key:n},a.attr),S(a.child))})}function L(s){return function(a){return x.createElement(ue,g({attr:g({},s.attr)},a),S(s.child))}}function ue(s){var a=function(n){var t=s.attr,r=s.size,i=s.title,d=me(s,["attr","size","title"]),m=r||n.size||"1em",u;return n.className&&(u=n.className),s.className&&(u=(u?u+" ":"")+s.className),x.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,t,d,{className:u,style:g(g({color:s.color||n.color},n.style),s.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&x.createElement("title",null,i),s.children)};return T!==void 0?x.createElement(T.Consumer,null,function(n){return a(n)}):a(P)}function he(s){return L({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}},{tag:"path",attr:{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83zM17.5 14.33c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"}}]})(s)}const ge="_book_1vqsh_2",xe="_icon_1vqsh_24",_e="_title_1vqsh_39",je="_content_1vqsh_48",pe="_rating_1vqsh_76",be="_grid_1vqsh_83",fe="_resume_1vqsh_113",c={book:ge,icon:xe,title:_e,content:je,rating:pe,grid:be,resume:fe},Ne="_modal_4nu1l_1",ye="_title_4nu1l_10",ve="_rating_4nu1l_26",ke="_resume_4nu1l_30",we="_buttons_4nu1l_46",_={modal:Ne,title:ye,rating:ve,resume:ke,buttons:we};function $e(s){return L({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M480 208H308L256 48l-52 160H32l140 96-54 160 138-100 138 100-54-160z"}}]})(s)}const Me="_rating_d4ng5_1",Te="_icon_d4ng5_6",N={rating:Me,icon:Te},E=({rating:s,hover:a,setRating:n,setHover:t})=>e.jsx("div",{className:N.rating,children:[...Array(5)].map((r,i)=>{const d=i+1,m=s>0&&d<=s||a!==null&&a&&d<=a?`${N.icon} fill`:N.icon;return e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"rating",value:d,onClick:()=>{n&&n(d)}}),e.jsx($e,{className:m,color:s>0||a&&a>=d?"#FF6B08":"#A6ABB9",onMouseEnter:()=>{t&&t(d)},onMouseLeave:()=>{t&&t(null)}})]},i)})}),Ce=({onClose:s})=>{const[a,n]=j.useState(0),[t,r]=j.useState(""),[i,d]=j.useState(null),{t:m}=b("translation",{keyPrefix:"libraryPage.resumeModal"}),u=p=>{p.preventDefault(),(a||t)&&console.log("Send: ",a,t),s()};return e.jsxs("form",{className:_.modal,onSubmit:u,children:[e.jsx("h2",{className:_.title,children:m("Choose rating of the book")}),e.jsx("div",{className:_.rating,children:e.jsx(E,{rating:a,hover:i,setHover:d,setRating:n})}),e.jsx("h2",{className:_.title,children:m("Resume")}),e.jsx("textarea",{name:"resume",className:_.resume,rows:9,placeholder:"...",value:t,onChange:p=>r(p.target.value)}),e.jsxs("div",{className:_.buttons,children:[e.jsx(C,{onClick:s,children:m("Back")}),e.jsx(O,{children:m("Save")})]})]})},Oe=({item:s})=>{const[a,n]=j.useState(!1),{t}=b("translation",{keyPrefix:"libraryPage.bookList"}),r=()=>{n(!0)},i=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(he,{className:c.icon}),e.jsxs("div",{className:c.book,children:[e.jsx("p",{className:c.content,children:s.bookTitle}),e.jsxs("p",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[t("Author"),": "]})," ",s.author]}),e.jsxs("p",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[t("Year"),": "]})," ",s.year]}),e.jsxs("p",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[t("Pages"),": "]}),s.pages]}),e.jsxs("div",{className:c.rating,children:[e.jsxs("div",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[t("Rating"),": "]}),e.jsx(E,{rating:s.rating})]}),e.jsx("button",{className:c.resume,onClick:r,children:t("Resume")})]})]}),a&&e.jsx(q,{close:i,children:e.jsx(Ce,{onClose:i})})]})},qe="_listTitle_w1te2_1",Pe="_titles_w1te2_12",Se="_rating_w1te2_30",Le="_title_w1te2_12",Ee="_item_w1te2_67",h={listTitle:qe,titles:Pe,rating:Se,title:Le,item:Ee},y=({items:s,listTitle:a,className:n})=>{const{t}=b("translation",{keyPrefix:"libraryPage.bookList"});return e.jsxs("div",{className:n,children:[e.jsx("h2",{className:h.listTitle,children:t(a)}),e.jsxs("div",{className:h.titles,children:[e.jsx("p",{className:h.title,children:t("Book title")}),e.jsx("p",{className:h.title,children:t("Author")}),e.jsx("p",{className:h.title,children:t("Year")}),e.jsx("p",{className:h.title,children:t("Pages")}),e.jsx("p",{className:`${h.title} ${h.rating}`,children:t("Rating")})]}),e.jsx("ul",{className:h.list,children:s.map(r=>e.jsx("li",{className:h.item,children:e.jsx(Oe,{item:r})},r.id))})]})},v=[{id:1,bookTitle:"Development of valuable proposals..",author:"Alex Osterwalder, Yves Pigneur",year:2013,pages:368,rating:0},{id:2,bookTitle:"Product management in Scrum. Agile methods for your business..",author:"Roman Pichler",year:2010,pages:92,rating:5}],Fe=()=>{const[s,a]=j.useState(!0),n=()=>{a(!1)};return e.jsxs("div",{className:`container ${f.pageContainer}`,children:[e.jsx(R,{to:"/home",className:f.backLink,children:e.jsx("img",{src:A,alt:"icon arrow back",width:"24",height:"12"})}),e.jsx(K,{}),s&&e.jsx(q,{close:n,className:"withoutBg",children:e.jsx(de,{close:n})}),e.jsxs("div",{className:f.books,children:[e.jsx(y,{items:v,listTitle:"Already read",className:"already"}),e.jsx(y,{items:v,listTitle:"Reading now",className:"reading"}),e.jsx(y,{items:v,listTitle:"Going to read",className:"going"})]})]})};export{Fe as default};
