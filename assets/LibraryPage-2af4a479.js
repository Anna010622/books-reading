import{j as e,u as b,r as j,a as B,b as R,R as _,L as z}from"./index-62016c87.js";import{c as I,a as v,b as k,u as A,o as F}from"./index.esm-e1cebff8.js";import{B as T}from"./ButtonMain-2c31bb67.js";const D="/books-reading/assets/arrow-back-8821ac10.svg",Y="_btn_1if7t_1",V={btn:Y},C=({title:s,onClick:t,type:n="button"})=>e.jsx("button",{className:V.btn,type:n,onClick:t,children:s}),G="_form_fgr6n_1",W="_field_fgr6n_39",H="_label_fgr6n_44",J="_input_fgr6n_51",K="_errorMessage_fgr6n_67",o={form:G,field:W,label:H,input:J,errorMessage:K},Q=I({bookTitle:v().required(),author:v().required(),year:k().typeError("Введіть рік видання").required().min(new Date("1917").getFullYear()).max(new Date().getFullYear()),pages:k().typeError("Введіть кількість сторінок").required()}).required(),U=()=>{var i,d,h,m;const{register:s,handleSubmit:t,formState:{errors:n}}=A({resolver:F(Q)}),{t:a}=b("translation",{keyPrefix:"libraryPage.form"}),l=E=>console.log(E);return e.jsxs("form",{className:o.form,onSubmit:t(l),children:[e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:a("book title")}),e.jsx("input",{className:o.input,type:"text",...s("bookTitle"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(i=n.bookTitle)==null?void 0:i.message})]}),e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:a("author")}),e.jsx("input",{className:o.input,type:"text",...s("author"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(d=n.author)==null?void 0:d.message})]}),e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:a("publication date")}),e.jsx("input",{className:o.input,type:"number",...s("year"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(h=n.year)==null?void 0:h.message})]}),e.jsxs("div",{className:o.field,children:[e.jsx("label",{className:o.label,children:a("amount of pages")}),e.jsx("input",{className:o.input,type:"number",...s("pages"),placeholder:"...",required:!0}),e.jsx("p",{className:o.errorMessage,children:(m=n.pages)==null?void 0:m.message})]}),e.jsx(C,{title:a("add")})]})},X="_pageContainer_eksqq_1",Z="_backLink_eksqq_6",ee="_books_eksqq_11",p={pageContainer:X,backLink:Z,books:ee},se="_overlay_1lmlf_1",w={overlay:se},te=document.getElementById("modal-root"),q=({children:s,close:t,className:n})=>{const a=i=>{i.code==="Escape"&&t()},l=i=>{i.target===i.currentTarget&&t()};return j.useEffect(()=>(document.body.addEventListener("keydown",a),document.body.classList.add("noScroll"),()=>{document.body.removeEventListener("keydown",a),document.body.classList.remove("noScroll")})),B.createPortal(e.jsx("div",{className:n?`${w.overlay} withoutBg`:w.overlay,onClick:l,children:s}),te)},ae="/books-reading/assets/flag-b474c0f2.svg",$="/books-reading/assets/arrow-down-ac91687a.svg",ne="_modal_okyc4_1",le="_list_okyc4_21",re="_item_okyc4_26",ie="_title_okyc4_35",oe="_wrapper_okyc4_47",ce="_subTitle_okyc4_52",de="_inner_okyc4_67",me="_text_okyc4_73",r={modal:ne,list:le,item:re,title:ie,wrapper:oe,subTitle:ce,inner:de,text:me},ue=({close:s})=>{const{t}=b("translation",{keyPrefix:"libraryPage.infoModal"});return e.jsxs("div",{className:r.modal,children:[e.jsxs("ul",{className:r.list,children:[e.jsxs("li",{className:r.item,children:[e.jsx("h2",{className:r.title,children:t("step1")}),e.jsxs("div",{className:r.wrapper,children:[e.jsx("img",{className:r.icon,src:R,alt:"Library icon",width:"22",height:"17"}),e.jsxs("div",{className:r.content,children:[e.jsx("h3",{className:r.subTitle,children:t("title1")}),e.jsxs("div",{className:r.inner,children:[e.jsx("img",{className:r.arrow,src:$,alt:"down arrow",width:"10",height:"12"}),e.jsx("p",{className:r.text,children:t("description1")})]})]})]})]}),e.jsxs("li",{className:r.item,children:[e.jsx("h2",{className:r.title,children:t("step1")}),e.jsxs("div",{className:r.wrapper,children:[e.jsx("img",{className:r.icon,src:ae,alt:"Flag icon",width:"15",height:"17"}),e.jsxs("div",{className:r.content,children:[e.jsx("h3",{className:r.subTitle,children:t("title2")}),e.jsxs("div",{className:r.inner,children:[e.jsx("img",{className:r.arrow,src:$,alt:"down arrow",width:"10",height:"12"}),e.jsx("p",{className:r.text,children:t("description2")})]})]})]})]})]}),e.jsx(T,{title:"Ok",onClick:()=>s()})]})};var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M=_.createContext&&_.createContext(O),g=globalThis&&globalThis.__assign||function(){return g=Object.assign||function(s){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(s[l]=t[l])}return s},g.apply(this,arguments)},he=globalThis&&globalThis.__rest||function(s,t){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n};function S(s){return s&&s.map(function(t,n){return _.createElement(t.tag,g({key:n},t.attr),S(t.child))})}function L(s){return function(t){return _.createElement(ge,g({attr:g({},s.attr)},t),S(s.child))}}function ge(s){var t=function(n){var a=s.attr,l=s.size,i=s.title,d=he(s,["attr","size","title"]),h=l||n.size||"1em",m;return n.className&&(m=n.className),s.className&&(m=(m?m+" ":"")+s.className),_.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:m,style:g(g({color:s.color||n.color},n.style),s.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),i&&_.createElement("title",null,i),s.children)};return M!==void 0?_.createElement(M.Consumer,null,function(n){return t(n)}):t(O)}function _e(s){return L({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}},{tag:"path",attr:{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83zM17.5 14.33c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"}}]})(s)}const xe="_book_1vqsh_2",je="_icon_1vqsh_24",be="_title_1vqsh_39",pe="_content_1vqsh_48",Ne="_rating_1vqsh_76",fe="_grid_1vqsh_83",ye="_resume_1vqsh_113",c={book:xe,icon:je,title:be,content:pe,rating:Ne,grid:fe,resume:ye},ve="_modal_4nu1l_1",ke="_title_4nu1l_10",we="_rating_4nu1l_26",$e="_resume_4nu1l_30",Me="_buttons_4nu1l_46",x={modal:ve,title:ke,rating:we,resume:$e,buttons:Me};function Te(s){return L({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M480 208H308L256 48l-52 160H32l140 96-54 160 138-100 138 100-54-160z"}}]})(s)}const Ce="_rating_d4ng5_1",qe="_icon_d4ng5_6",N={rating:Ce,icon:qe},P=({rating:s,hover:t,setRating:n,setHover:a})=>e.jsx("div",{className:N.rating,children:[...Array(5)].map((l,i)=>{const d=i+1,h=s>0&&d<=s||t!==null&&t&&d<=t?`${N.icon} fill`:N.icon;return e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"rating",value:d,onClick:()=>{n&&n(d)}}),e.jsx(Te,{className:h,color:s>0||t&&t>=d?"#FF6B08":"#A6ABB9",onMouseEnter:()=>{a&&a(d)},onMouseLeave:()=>{a&&a(null)}})]},i)})}),Oe=({onClose:s})=>{const[t,n]=j.useState(0),[a,l]=j.useState(""),[i,d]=j.useState(null),h=m=>{m.preventDefault(),(t||a)&&console.log("Send: ",t,a),s()};return e.jsxs("form",{className:x.modal,onSubmit:h,children:[e.jsx("h2",{className:x.title,children:"Choose rating of the book"}),e.jsx("div",{className:x.rating,children:e.jsx(P,{rating:t,hover:i,setHover:d,setRating:n})}),e.jsx("h2",{className:x.title,children:"Resume"}),e.jsx("textarea",{name:"resume",className:x.resume,rows:9,placeholder:"...",value:a,onChange:m=>l(m.target.value)}),e.jsxs("div",{className:x.buttons,children:[e.jsx(C,{title:"Back",onClick:s}),e.jsx(T,{type:"submit",title:"Save"})]})]})},Se=({item:s})=>{const[t,n]=j.useState(!1),{t:a}=b("translation",{keyPrefix:"libraryPage.bookList"}),l=()=>{n(!0)},i=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:c.icon}),e.jsxs("div",{className:c.book,children:[e.jsx("p",{className:c.content,children:s.bookTitle}),e.jsxs("p",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[a("Author"),": "]})," ",s.author]}),e.jsxs("p",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[a("Year"),": "]})," ",s.year]}),e.jsxs("p",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[a("Pages"),": "]}),s.pages]}),e.jsxs("div",{className:c.rating,children:[e.jsxs("div",{className:`${c.content} ${c.grid}`,children:[e.jsxs("span",{className:c.title,children:[a("Rating"),": "]}),e.jsx(P,{rating:s.rating})]}),e.jsx("button",{className:c.resume,onClick:l,children:a("Resume")})]})]}),t&&e.jsx(q,{close:i,children:e.jsx(Oe,{onClose:i})})]})},Le="_listTitle_w1te2_1",Pe="_titles_w1te2_12",Ee="_rating_w1te2_30",Be="_title_w1te2_12",Re="_item_w1te2_67",u={listTitle:Le,titles:Pe,rating:Ee,title:Be,item:Re},f=({items:s,listTitle:t,className:n})=>{const{t:a}=b("translation",{keyPrefix:"libraryPage.bookList"});return e.jsxs("div",{className:n,children:[e.jsx("h2",{className:u.listTitle,children:a(t)}),e.jsxs("div",{className:u.titles,children:[e.jsx("p",{className:u.title,children:a("Book title")}),e.jsx("p",{className:u.title,children:a("Author")}),e.jsx("p",{className:u.title,children:a("Year")}),e.jsx("p",{className:u.title,children:a("Pages")}),e.jsx("p",{className:`${u.title} ${u.rating}`,children:a("Rating")})]}),e.jsx("ul",{className:u.list,children:s.map(l=>e.jsx("li",{className:u.item,children:e.jsx(Se,{item:l})},l.id))})]})},y=[{id:1,bookTitle:"Development of valuable proposals..",author:"Alex Osterwalder, Yves Pigneur",year:2013,pages:368,rating:0},{id:2,bookTitle:"Product management in Scrum. Agile methods for your business..",author:"Roman Pichler",year:2010,pages:92,rating:5}],Fe=()=>{const[s,t]=j.useState(!0),n=()=>{t(!1)};return e.jsxs("div",{className:`container ${p.pageContainer}`,children:[e.jsx(z,{to:"/home",className:p.backLink,children:e.jsx("img",{src:D,alt:"icon arrow back",width:"24",height:"12"})}),e.jsx(U,{}),s&&e.jsx(q,{close:n,className:"withoutBg",children:e.jsx(ue,{close:n})}),e.jsxs("div",{className:p.books,children:[e.jsx(f,{items:y,listTitle:"Already read",className:"already"}),e.jsx(f,{items:y,listTitle:"Reading now",className:"reading"}),e.jsx(f,{items:y,listTitle:"Going to read",className:"going"})]})]})};export{Fe as default};
